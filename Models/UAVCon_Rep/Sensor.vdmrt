class Sensor

instance variables

-- this value will be set through the co-simulation
protected value: bool->real;

-- local copy of the shared variable
protected local_val: real := 0;

operations

-- constructor for Sensor
public Sensor: (bool->real) ==> Sensor
Sensor(v) == (
  value := v;
  local_val := floor value(true);
);

-- get sensor value
public GetValue: () ==> real
GetValue() == return local_val;

-- write local variable to shared variable
public Sync: () ==> ()
Sync() == local_val := floor value(true);

end Sensor